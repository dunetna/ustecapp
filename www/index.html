<!DOCTYPE html>
<html>
<head>
    <title>USTEC app</title>
    <meta name="author" content="Mònica Ramírez Arceda">
    <meta name="date" content="2017-10-18">
    <meta name="copyright" content="GPL">
    <meta name="keywords" content="USTEC, notícies">
    <meta name="description" content="Avisos i notícies importants de la USTEC">
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8">
    <meta http-equiv="content-style-type" content="text/css">
    <meta http-equiv="expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/vue.js" type="text/javascript"></script>
    <script src="js/vue-material/vue-material.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="js/vue-material/vue-material.css">
    <link rel="stylesheet" href="css/ustec.css">
</head>
<body>
    <div id="app">
        <md-toolbar class="md-medium"> 
            <span style="flex: 1" v-on:click="go_home" v-if="entries_list_visible">
                <img src="img/logo_ustec_transparent_small.png" />
            </span>
            <md-button class="md-icon-button" v-on:click="open_menu" v-if="entries_list_visible">
                <md-icon class="md-size-2x">more_vert</md-icon>
            </md-button>
            <md-button class="md-icon-button" v-on:click="go_home" v-if="entry_visible">
                <md-icon class="md-size-2x">arrow_back</md-icon>
            </md-button>
        </md-toolbar>
        <md-sidenav class="md-right" v-on:close="save_filters" ref="rightSidenav">
            <div id="buttons" style="text-align: center">
                <md-button class="md-fab md-mini md-primary" v-on:click="openDialog('infodialog')">
                    <md-icon>info</md-icon>
                </md-button>
                <md-button class="md-fab md-mini md-primary" v-on:click="openDialog('contactdialog')">
                    <md-icon>email</md-icon>
                </md-button>
                <md-button class="md-fab md-mini md-primary" v-on:click="refresh_close_menu">
                    <md-icon>cached</md-icon>
                </md-button>                
            </div>
            <md-toolbar class="md-dense">
                  <div class="md-toolbar-container">
                    <h3 class="md-title">Filtres</h3>
                  </div>
            </md-toolbar>
            <div id="filter" class="main-content">
                <div v-for="tag in tags">                    
                        <div v-if="tag.name == 'USTEC'">
                            <md-switch v-model="tag.checked" v-bind:id="tag.name" class="md-primary" disabled>
                                <span class="tag tag_filter" v-bind:style="'background-color: ' + tag.color">{{tag.name}}</span>
                            </md-switch>
                        </div>
                        <div v-else>
                            <md-switch v-model="tag.checked" v-bind:id="tag.name" class="md-primary" v-on:change="refresh_list">
                                <span class="tag tag_filter" v-bind:style="'background-color: ' + tag.color">{{tag.name}}</span>
                            </md-switch>
                        </div>
                </div>
            </div>
        </md-sidenav>
        <div id="entries-list" class="main-content" v-if="entries_list_visible">
            <div v-for="entry in featured_entries">                           
                <div v-if="visible_entry(entry)">
                    <hr />
                    <div v-if="entry.body != ''" v-on:click="get_entry(entry.pk)" v-bind:id="'e' + entry.pk">
                        <div v-for="tag in entry.tags">
                            <div class="tag tag_entry" v-bind:style="'background-color: ' + tag.color">{{tag.name}}</div>
                        </div>
                        <div style="float: right"><img src="img/megaphone.png" /></div>
                        <span v-html="entry.summary"></span>
                    </div>
                    <div v-else v-bind:id="'e' + entry.pk">
                        <div v-for="tag in entry.tags">
                            <div class="tag tag_entry" v-bind:style="'background-color: ' + tag.color">{{tag.name}}</div>
                        </div>
                        <div style="float: right"><img src="img/megaphone.png" /></div>
                        <span v-html="entry.summary"></span>
                    </div>
                </div>
            </div>
            <div v-for="entry in normal_entries">
                <div v-if="visible_entry(entry)">
                    <hr />
                    <div v-if="entry.body != ''" v-on:click="get_entry(entry.pk)" v-bind:id="'e' + entry.pk">
                        <div v-for="tag in entry.tags">
                            <div class="tag tag_entry" v-bind:style="'background-color: ' + tag.color">{{tag.name}}</div>
                        </div>
                        <span v-html="entry.summary"></span>
                    </div>
                    <div v-else v-bind:id="'e' + entry.pk">
                        <div v-for="tag in entry.tags">
                            <div class="tag tag_entry" v-bind:style="'background-color: ' + tag.color">{{tag.name}}</div>
                        </div>
                        <span v-html="entry.summary"></span>
                    </div>
                </div>
            </div>            
            <hr />
        </div>
        <div id="entry" class="main-content" v-if="entry_visible">
            <div v-html="entry_text"></div>
        </div>
        <md-dialog ref="infodialog">
                <md-dialog-title>USTECApp</md-dialog-title>
                <md-dialog-content>
                    <p>Versió 0.1</p>
                    <p><strong>USTECApp</strong> és una aplicació que informa de les 
                    novetats més importants del món educatiu. Es poden filtrar les notícies 
                    segons els interessos de l'usuari.</p>
                    <p>Si voleu més informació i totes les notícies que publica la USTEC visita 
                    la nostra pàgina web: <a href="http://sindicat.net">http://sindicat.net</a></p>
                    <p>
                        <a href="https://espacioseguro.com/sindicat/afilia.php">
                            <img src="img/afiliat.png" />
                        </a>
                    </p>            
                </md-dialog-content>                    
                <md-dialog-actions>                        
                    <md-button class="md-primary" v-on:click="closeDialog('infodialog')">Ok</md-button>
                </md-dialog-actions>
        </md-dialog>
        <md-dialog ref="contactdialog">
            <md-dialog-title>Contacte</md-dialog-title>
            <md-dialog-content>
                <a href="mailto:barcelona@sindicat.net">
                    <md-button class="md-fab md-mini md-primary">
                        <md-icon>email</md-icon>
                    </md-button>
                    Barcelona
                </a>
                <br />
                <a href="mailto:girona@sindicat.net">
                    <md-button class="md-fab md-mini md-primary">
                        <md-icon>email</md-icon>
                    </md-button>
                    Girona
                </a>
                <br />
                <a href="mailto:lleida@sindicat.net">
                    <md-button class="md-fab md-mini md-primary">
                        <md-icon>email</md-icon>
                    </md-button>
                    Lleida
                </a>
                <br />
                <a href="mailto:tarragona@sindicat.net">
                    <md-button class="md-fab md-mini md-primary">
                        <md-icon>email</md-icon>
                    </md-button>
                    Tarragona
                </a>
                <br />
                <a href="mailto:tortosa@sindicat.net">
                    <md-button class="md-fab md-mini md-primary">
                        <md-icon>email</md-icon>
                    </md-button>
                    Tortosa
                </a>
            </md-dialog-content>                    
            <md-dialog-actions>                        
                <md-button class="md-primary" v-on:click="closeDialog('contactdialog')">Ok</md-button>
            </md-dialog-actions>
        </md-dialog>
    </div>
    <script src="js/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="js/ustec.js" type="text/javascript"></script>
</body>
</html>